<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Serving static content - Lamm Consulting AB</title>
<meta name="description" content="Lighttpd">
<meta name="generator" content="Hugo 0.92.2" />
<link href="https://lammda.se//index.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://lammda.se/sample/markdown-syntax/">
<link rel="stylesheet" href="https://lammda.se/css/theme.min.css">
<link rel="stylesheet" href="https://lammda.se/css/chroma.min.css">
<script defer src="https://lammda.se//js/fontawesome6/all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js" integrity="sha256-H3cjtrm/ztDeuhCN9I4yh4iN2Ybx/y1RM7rMmAesA0k=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js" integrity="sha256-4XodgW4TwIJuDtf+v6vDJ39FVxI0veC/kSCCmnFp7ck=" crossorigin="anonymous"></script>
<script src="https://lammda.se/js/bundle.js"></script><style>
:root {}
</style>
<meta property="og:title" content="Serving static content" />
<meta property="og:description" content="Lighttpd" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lammda.se/sample/markdown-syntax/" /><meta property="og:image" content="https://lammda.se/images/og-image.png"/><meta property="article:section" content="sample" />
<meta property="article:published_time" content="2017-10-17T15:26:15+00:00" />
<meta property="article:modified_time" content="2017-10-17T15:26:15+00:00" /><meta property="og:site_name" content="Hugo Techdoc Theme" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://lammda.se/images/og-image.png"/>

<meta name="twitter:title" content="Serving static content"/>
<meta name="twitter:description" content="Lighttpd"/>
<meta itemprop="name" content="Serving static content">
<meta itemprop="description" content="Lighttpd"><meta itemprop="datePublished" content="2017-10-17T15:26:15+00:00" />
<meta itemprop="dateModified" content="2017-10-17T15:26:15+00:00" />
<meta itemprop="wordCount" content="556"><meta itemprop="image" content="https://lammda.se/images/og-image.png"/>
<meta itemprop="keywords" content="" /></head>
<body><div class="container"><header>
<h1>Lamm Consulting AB</h1>
<p class="description">Sibyllegatan 50 114 43 Stockholm</p>

</header>
<div class="global-menu">
<nav>
<ul>
<li id="home" class=""><a href="/">Home</a></li>
<li class=""><a href="/post/goisforlovers/">Offering</a></li><li class="parent "><a href="">Partners<i class="fas fa-angle-right"></i></a>
<ul class="sub-menu">
<li class="child "><a href="/post/creating-a-new-theme/">Sidiatech</a></li>
<li class="child "><a href="/post/migrate-from-jekyll/">T2Data</a></li>
</ul>
</li>
<li class=""><a href="/post/hugoisforlovers/">Sustainability</a></li></ul>
</nav>
</div>

<div class="content-container">
<main><h1>Serving static content</h1>
<aside class="table_of_contents">
<h5>Table of Contents</h5><nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a>
      <ul>
        <li><a href="#content">Content</a>
          <ul>
            <li><a href="#alpine-packages">Alpine packages</a></li>
            <li><a href="#markdown">Markdown</a>
              <ul>
                <li><a href="#hugo">Hugo</a></li>
                <li><a href="#wysiwig">Wysiwig</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#deployment">Deployment</a>
          <ul>
            <li><a href="#lighttpd">lighttpd</a></li>
            <li><a href="#lighttpd-configuration">lighttpd configuration</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></aside>

<h2 id="introduction">Introduction</h2>
<p>For software supply chain updates it is crucial that security updates are highly available, for business speed means better ranking in search engines
Static websites store already-rendered content and could be replicated to many endpoints making it more resilient against DDOS attacks.</p>
<h3 id="content">Content</h3>
<h4 id="alpine-packages">Alpine packages</h4>
<p>From a security aspect, this is good since no user experience is required for serving images. No need for Javascript downloaded from external sites.
In order</p>
<table>
<thead>
<tr>
<th>Supply chain scope</th>
<th>URL</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>Alpine packages from Internet</td>
<td><a href="http://dl-cdn.alpinelinux.org/alpine">http://dl-cdn.alpinelinux.org/alpine</a></td>
<td>With <a href="https://slsa.dev/">SLSA</a>  it may be a alternative</td>
</tr>
<tr>
<td>Mirror of public repository</td>
<td><a href="https://services.lammda.se/alpine/public/">https://services.lammda.se/alpine/public/</a></td>
<td>It is good practice to keep a local copy</td>
</tr>
<tr>
<td>Rebuild packages in a air-gapped environment</td>
<td><a href="https://services.lammda.se/alpine/approved/">https://services.lammda.se/alpine/approved/</a></td>
<td>Analyze source code , including patches</td>
</tr>
<tr>
<td>Customized and hardened packages</td>
<td><a href="https://services.lammda.se/alpine/custom/">https://services.lammda.se/alpine/custom/</a></td>
<td>Long time support</td>
</tr>
</tbody>
</table>
<h4 id="markdown">Markdown</h4>
<p>This website is generated by <a href="https://gohugo.io/">Hugo</a> and reads two directories, the content holds markdown and static images.
With Hugo comes a rich selection of <a href="https://themes.gohugo.io/">themes</a> that could be used for customization.
Some themes make extensive use of Javascript and some of them download libraries from external sites during runtime.
This site use the <a href="https://themes.gohugo.io/themes/hugo-theme-techdoc/">Hugo techdoc theme</a>.<br>
Javascript libraries used in themes must be checked for vulnerabilities and <a href="https://retirejs.github.io/retire.js/">expired versions</a></p>
<h5 id="hugo">Hugo</h5>
<p>Installation of Hugo and themes are omitted here. During development changes to content could be reflected in the resulting site by executing</p>
<pre tabindex="0"><code class="language-code" data-lang="code">hugo server -D  --port 8080  --bind=&quot;0.0.0.0&quot; --baseURL=&quot;http://localhost:8080/lammda
</code></pre><pre tabindex="0"><code class="language-code" data-lang="code">#  Local development 
baseURL = &quot;http://localhost:8080/lammda&quot;

#  Deployment on github pages 
baseURL = &quot;https://lammda.se&quot;

#  Deployment on Kubernetes 
baseURL = &quot;https://services.lammda.se/lammda&quot;

theme = &quot;hugo-theme-techdoc&quot;

#  Github pages only accepts public and docs as directory names  
publishdir    = &quot;docs&quot;
</code></pre><h5 id="wysiwig">Wysiwig</h5>
<p>Markdown is popular among developers since the format can be generated by tools.
For interactive content generation with spell checks etc, content should be generated from a simple user interface.</p>
<table>
<thead>
<tr>
<th>URL</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://getlektor.com">getlektor</a></td>
<td>Local deployment, open source</td>
</tr>
<tr>
<td><a href="https://tina.io">tinaio</a></td>
<td>Cloud service</td>
</tr>
<tr>
<td><a href="https://github.com/lonekorean/wordpress-export-to-markdown">Wordpress export</a></td>
<td>Export Wordpress site to markdown</td>
</tr>
<tr>
<td><a href="https://gitlab.com/open-data-knowledge-sharing/open-data-knowledge-sharing.gitlab.io">Nosad</a></td>
<td>build.sh extracts content from gitlab Wiki and generates markdown</td>
</tr>
</tbody>
</table>
<h3 id="deployment">Deployment</h3>
<h4 id="lighttpd">lighttpd</h4>
<p>The most popular webserver is <a href="https://www.nginx.com">NGINX</a>, but for deployment in Kubernetes there is no need for a complex project. Besides there is some issues how patches being included during build,
I am also concerned about the <a href="https://www.zdnet.com/article/russian-police-raid-nginx-moscow-office/">KGB Raid</a>.</p>
<p><a href="https://www.lighttpd.net">LIGHTTPD</a> is a simple and fast web server and is also useful for development of the <a href="https://bomresolver.io">bomresolver</a> project since it support many build systems:</p>
<ul>
<li><a href="https://www.gnu.org/software/autoconf/">autoconf</a></li>
<li><a href="https://mesonbuild.com/">meson</a></li>
<li><a href="https://cmake.org/">cmake</a></li>
<li><a href="https://scons.org/">scons</a></li>
</ul>
<p>Deployment in modern clouds overlaps with functionality n standalone web servers.
For high availability, it is simple to deploy many instances of pods that includes a small webserver together static content.<br>
For <a href="https://kubernetes.io/">Kubernetes</a> each service deployed must have a path for routing.</p>
<p>In the picture below three different alternatives are listed for serviing static content.</p>
<ul>
<li>Markdown pushed to <a href="https://docs.gitlab.com/ee/user/project/pages/">gitlab pages</a> and gets <a href="gitlab-ci.txt">converted</a> into static content</li>
<li>Static content pushed to a specific branch and directory to be published by <a href="https://pages.github.com/">Github pages</a></li>
<li>Generate a Alpine container from scratch, add content and deploy to <a href="https://services.lammda.se/lammda/">Kubernetes</a> using a <a href="config.txt">configfile</a></li>
</ul>
<p><img src="/images/example.svg" alt="4 Supply chain"></p>
<h4 id="lighttpd-configuration">lighttpd configuration</h4>
<p><em>Serving Alpine packages</em>
<a href="https://services.lammda.se/alpine/public/">Repository</a></p>
<pre tabindex="0"><code class="language-code" data-lang="code">server.modules += (&quot;mod_access&quot;, &quot;mod_accesslog&quot;, &quot;mod_rewrite&quot;,&quot;mod_dirlisting&quot;)

dir-listing.external-css = &quot;lighttpd-dir.css&quot;
dir-listing.set-footer = &quot;Packages are not signed for production&quot;

url.rewrite-once = ( 
  &quot;^/alpine/public/lighttpd-dir.css$&quot;  =&gt; &quot;/lighttpd-dir.css&quot;,
  &quot;^/alpine/public/(.*)/lighttpd-dir.css$&quot;  =&gt; &quot;/lighttpd-dir.css&quot;,
  &quot;^/alpine/public/(.*)/(.*)/lighttpd-dir.css$&quot;  =&gt; &quot;/lighttpd-dir.css&quot;,
  &quot;^/alpine/public/(.*)/(.*)/(.*)/lighttpd-dir.css$&quot;  =&gt; &quot;/lighttpd-dir.css&quot;,
  &quot;^/alpine/public$&quot;  =&gt; &quot;/&quot;,
  &quot;^/alpine/public/$&quot;  =&gt; &quot;/&quot;,
  &quot;^/alpine/public/(.*)/$&quot;  =&gt; &quot;/$1/&quot;,
  &quot;^/alpine/public/(.*)/(.*)/$&quot;  =&gt; &quot;/$1/$2/&quot;,
  &quot;^/alpine/public/(.*)/(.*)/(.*)/$&quot;  =&gt; &quot;/$1/$2/$3/&quot;,
  &quot;^/alpine/public/(.*)/(.*)/(.*)/(.*)$&quot;  =&gt; &quot;/$1/$2/$3/$4&quot;
 )             
</code></pre><p><em>Serving static website</em>
<a href="https://services.lammda.se/lammda">Kubernetes</a></p>
<pre tabindex="0"><code class="language-code" data-lang="code">server.modules += (&quot;mod_access&quot;, &quot;mod_accesslog&quot;, &quot;mod_rewrite&quot;,&quot;mod_dirlisting&quot;)

url.rewrite-once = ( 

  &quot;^/lammda/(.*)&quot;  =&gt; &quot;/$1&quot;

 )     
</code></pre><div class="edit-meta"><br></div><nav class="pagination"><a class="nav nav-prev" href="https://lammda.se/sample/custom-shortcodes/" title="Hello SBOM"><i class="fas fa-arrow-left" aria-hidden="true"></i>&nbsp;Prev - Hello SBOM</a>
<a class="nav nav-next" href="https://lammda.se/sample/custom-shortcodes/" title="Hello SBOM">Next - Hello SBOM <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer></footer>
</main>
<div class="sidebar">

<nav class="slide-menu">
<ul>
<li class=""><a href="https://lammda.se/">Home</a></li>



<li class="parent has-sub-menu"><a href="https://lammda.se/sample/">Software Supply Chain<span class="mark opened">-</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://lammda.se/sample/custom-shortcodes/">Hello SBOM</a></li>
<li class="active"><a href="https://lammda.se/sample/markdown-syntax/">Serving static content</a></li>
</ul>
  
</li>














</ul>
</nav>



<div class="sidebar-footer"></div>
</div>

</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
